# BeatBay System Design Document
# 1. Введение
## 1.1 Цели и предназначение
### 1.1.1 Описание целей
1. **Упрощение процесса покупки и продажи битов**:
    - Создание интуитивно понятного и удобного интерфейса, который упрощает процесс поиска, прослушивания и покупки битов для артистов, а также загрузки и управления битами для битмейкеров. Цель - обеспечить простоту и эффективность процесса торговли, делая его доступным и понятным для каждого участника рынка.
2. **Создание единой платформы для рынка битов в СНГ**:
    - Построение централизованного сервиса, нацеленного на объединение битмейкеров и артистов в регионе СНГ. Целью является предложение удобной и безопасной альтернативы неформальным каналам продаж, таким как телеграм-каналы и чаты, которые часто не предоставляют достаточной защиты и поддержки. Это изменение направлено на укрепление рыночных связей, повышение доверия и удобства пользователей, а также на создание структурированной и прозрачной среды для торговли битами.
* **Автоматизация процесса передачи прав**:
    - Разработка системы автоматического управления правами на биты, включающей создание четких лицензионных соглашений, генерацию документации и отслеживание транзакций. Это направлено на обеспечение законности сделок, защиту прав обеих сторон и уменьшение рисков, связанных с лицензированием. Систематизация этого процесса значительно упростит управление лицензиями, сделает их более понятными и доступными для пользователей.
### 1.1.2 Решаемые проблемы:
1. **Сложности битмейкеров из СНГ с продажей битов**:
    - Битмейкеры в регионе СНГ сталкиваются с уникальными трудностями из-за ограниченного доступа к популярным международным платформам типа Beatstars из-за отсутствия поддержки ключевых платежных систем, таких как PayPal. Это вынуждает их прибегать к неформальным и неудобным методам продажи через социальные сети и мессенджеры, такие как телеграм, инстаграм и ютуб, что снижает их доходность и юридическую защищенность. Маркетплейс решит эту проблему, предоставив удобную и надежную платформу для продажи битов с поддержкой локальных платежных систем.
2. **Трудности артистов из СНГ с поиском и покупкой битов**:
    - Аналогично, артисты в СНГ сталкиваются с ограничениями при покупке битов из-за недоступности международных платежных систем и неудобства использования неформализованных каналов продаж. Это ограничивает их возможности в выборе и приобретении качественных битов. Маркетплейс предложит решение с легкодоступными инструментами поиска и фильтрации, а также интеграцией локальных платежных методов, что упростит процесс покупки и расширит возможности артистов.
3. **Сложности с процессом передачи прав и прозрачностью оплаты**:
    - Неопределенность и риски, связанные с передачей прав и оплатой, существенно усложняют взаимодействие между битмейкерами и артистами. Маркетплейс предложит автоматизированное управление лицензиями, четкие соглашения и надежные платежные системы, что обеспечит прозрачность и надежность транзакций, а также снизит юридические риски для всех участников.

## 1.2 Описание продукта
### 1.2.1 Функциональное описание:
Наш маркетплейс предназначен для упрощения процесса покупки и продажи музыкальных битов, предоставляя широкий спектр функций для удовлетворения потребностей битмейкеров и артистов:

* **Поиск битов**:
    - Интуитивно понятные инструменты поиска и фильтрации позволяют пользователям легко найти биты по различным критериям, таким как жанр, настроение, BPM и др.
* **Прослушивание битов**:
    - Пользователи могут прослушивать предпросмотр битов перед покупкой, чтобы оценить их качество и соответствие своим потребностям.
* **Покупка битов**:
    - Маркетплейс предоставляет простой и безопасный способ покупки битов, включая различные варианты лицензий, предложенных битмейкерами.
* **Загрузка битов**:
    - Битмейкеры могут легко загружать свои биты на платформу, устанавливая цены и определяя параметры лицензирования.
* **Управление битами**:
    - Инструменты управления позволяют битмейкерам отслеживать продажи, прослушивания и общую статистику по их битам.

### 1.2.2 Целевая аудитория
Маркетплейс ориентирован на следующие основные группы пользователей:

* **Битмейкеры**:
    - Создатели битов, ищущие удобный способ продвижения и продажи своих работ. Их ключевые потребности включают доступность к широкой аудитории, возможность устанавливать цены и лицензии, а также получение обратной связи и статистики по их битам. Особое внимание уделяется упрощению процесса передачи прав и прозрачности оплаты.
* **Артисты и музыканты**:
    - Исполнители, ищущие биты для своих проектов. Для них важен удобный поиск, возможность прослушать биты перед покупкой, гибкость в выборе лицензий, а также прозрачный и автоматизированный процесс приобретения прав на использование битов.
* **Музыкальные продюсеры**:
    - Профессионалы, занимающиеся поиском и закупкой битов для музыкальных проектов. Для них важны точность фильтров поиска, высокое качество аудио и прозрачность условий использования и покупки битов.

# 2. Обзор системы
## 2.1 Архитектура
* **Структура системы**:
    - Опишите основные компоненты системы, такие как пользовательский интерфейс, сервер приложений, база данных, система управления контентом и их взаимосвязь.
* **Диаграмма архитектуры**:
    - Предоставьте диаграмму, которая иллюстрирует высокоуровневую архитектуру системы, включая внешние интеграции и потоки данных.

## 2.2 Технологический стек
* **Фронтенд**:
    - Укажите технологии, используемые для разработки пользовательского интерфейса, например, React, Vue.js.
* **Бэкенд**:
    - Опишите серверные технологии, например, Node.js, Ruby on Rails, базы данных, такие как PostgreSQL, MongoDB.
* **Инфраструктура**:
    - Укажите инфраструктурные решения, например, серверы, облачные сервисы типа AWS, системы контроля версий.
* **Дополнительные инструменты и сервисы**:
    - Перечислите инструменты для мониторинга, логирования, аналитики, платежных систем и других внешних интеграций.
# 3. Функциональные требования
## 3.1 Пользовательские роли
* На нашей платформе мы предлагаем гибкость в ролях пользователей, позволяя одному и тому же аккаунту выполнять действия как битмейкера, так и артиста. Это означает, что после регистрации пользователи могут как загружать и продавать свои биты, так и искать, прослушивать и покупать биты других создателей. Таким образом, мы предоставляем универсальную платформу, адаптированную под разнообразные потребности наших пользователей в музыкальной индустрии.

### 3.1.1 Битмейкеры
* **Регистрация и авторизация**:
    - Возможность создать аккаунт, вход и выход из системы;
* **Прослушивание битов**:
    - Возможность прослушивать доступные на платформе биты;
* **Загрузка битов**:
    - Возможность загружать свои биты на платформу для продажи;
* **Установка цен**:
    - Возможность устанавливать цену за свои биты;
* **Установка фильтров**:
    - Возможность установить теги и фильтры (Тональность, настроение, bpm и др.), для упрощения поиска своих битов артистами;
* **Управление лицензиями**:
    - Возможность определять условия использования битов и виды лицензий, предоставляемых пользователям;
* **Просмотр статистики**:
    - Доступ к аналитике продаж, включая количество продаж, прослушиваний и доход;
* **Договор о передаче прав**:
    - Автоматическое формирование и подписание договора о передаче прав при продаже бита, упрощающего передачу прав покупателю.

### 3.1.2 Артисты
* **Регистрация и авторизация**:
    - Возможность создать аккаунт, вход и выход из системы;
* **Прослушивание битов**:
    - Возможность прослушивать доступные на платформе биты;
* **Поиск битов по фильтрам**:
    - Использование фильтров (цена, тональность, настроение и др.) для упрощения поиска нужных битов;
* **Покупка битов**:
    - Возможность приобретения конкретных лицензий на использование битов, которые были заданы битмейкером. После покупки артист получает доступ ко всем необходимым файлам, соответствующим условиям выбранной лицензии;
* **Подписание договоров**:
    - Автоматическое подписание договора о передаче прав при покупке бита;
* **Управление покупками**:
    - Доступ к истории покупок;
* **Настройки уведомлений о новых битах**:
    - Возможность подписаться на уведомления о новых битах от избранных битмейкеров или по определенным критериям поиска.

### 3.1.3 Администраторы
* **Управление контентом**:
    - Возможность модерировать загружаемый контент, удаление нежелательного или нарушающего правила платформы;
* **Управление пользователями**:
    - Возможность блокировать или удалять пользователей, управление их доступом к определенным функциям;
* **Управление транзакциями**:
    - Доступ к информации о транзакциях между пользователями и платформой, возможность рассмотрения спорных случаев;
* **Генерация отчетов**:
    - Возможность создания отчетов о продажах, активности пользователей и другой статистики;
* **Настройки платформы**:
    - Возможность управлять общими настройками платформы, например, комиссия сервиса, методы оплаты, аутентификация и другие параметры.

## 3.2 Основные функции
### 3.2.1 Регистрация пользователя:

* Пользователь должен иметь возможность создать аккаунт, указав свои данные (имя, электронная почта, пароль).

### 3.2.2 Авторизация пользователя:

* Пользователь должен иметь возможность войти в свой аккаунт с помощью электронной почты и пароля.

### 3.2.3 Создание объявления о продаже бита:

* **Создание объявлений**: Пользователь должен иметь возможность создать объявление о продаже бита, включая следующую информацию:
   - Название бита
   - Описание бита
   - Жанры бита
   - Цена бита
   - Файл бита (wav, mp3, STEMS)
   - Фильтры (бпм, тональность, настроение)

* **Добавление фильтров к объявлению**: Пользователь должен иметь возможность добавить фильтры к своему объявлению для улучшения поиска. Фильтры могут включать следующие параметры:
   - Бпм
   - Тональность
   - Настроение (например, грустный, веселый, агрессивный)
   - Теги (#808, #travisscot и тп)

* **Выбор аватарки для бита**: Пользователь должен иметь возможность выбрать изображение в качестве аватарки для своего бита. Аватарка должна отображаться на странице объявления о продаже и в результатах поиска.

* **Подписание бумаг о передаче прав**: Пользователь должен согласиться с условиями о передаче прав на инструментал (поставить соглашение на предоставленных бумагах в электронном виде)

### 3.2.4 Прослушивание битов перед покупкой:

* Пользователь должен иметь возможность прослушать биты перед покупкой. На странице объявления о продаже должен быть встроенный проигрыватель, который позволит пользователю ознакомиться с битом.

### 3.2.5 Поиск битов по фильтрам:

* Пользователь должен иметь возможность найти биты, соответствующие определенным фильтрам. Поиск должен осуществляться по следующим параметрам:
   - Бпм
   - Тональность
   - Жанр
   - Стоимость
   - Настроение
   - Теги

### 3.2.6 Корзина:

* Пользователь должен иметь возможность добавить биты в корзину и одновременно приобрести несколько битов одним заказом.

### 3.2.7 Оформление заказа:

* Пользователь должен иметь возможность оформить заказ после выбора битов в корзине. После оформления заказа, пользователь будет перенаправлен на страницу оплаты, где сможет ввести свои данные для оплаты.
После оплаты, пользователь получит документы о передаче прав на инструментал (в формате PDF)

### 3.2.8 Управление профилем пользователя:

* Пользователь должен иметь возможность изменять информацию в своем профиле, включая имя, электронную почту, пароль и аватарку.

### 3.2.9 Уведомления:
* Пользователь должен иметь возможность получать уведомления о новых битах, комментариях и других активностях, связанных с его объявлениями и покупками.

### 3.2.10 Административные возможности:

* Администратор должен иметь возможность управлять объявлениями и пользователями, модерировать комментарии и решать спорные ситуации.

## 3.3 Пользовательские сценарии
### 3.3.1 Сценарий: Битмейкер загружает новый бит
* **Цель**: Загрузить и представить новый бит потенциальным покупателям.

* **Пользователь**: Битмейкер (продавец).

* **Шаги**:
    - **Аутентификация**: Битмейкер входит в систему, используя свои учетные данные.
    - **Переход к загрузке**: Нажимает на кнопку "Загрузить бит" на панели инструментов.
    - **Заполнение информации**: Вводит информацию о бите (название, жанр, темп, тональность, описание, настроения, тэги, а также выбирает опции покупки бита: название, цена и предоставляемые файлы (mp3, wav, stems)).
    - **Загрузка файла**: Выбирает основной MP3-файл бита с компьютера и загружает его на сервер. Также он загружает wav- и stems-файлы, если они были указаны в опциях покупки бита в предыдущем шаге.
    - **Предпросмотр и проверка**: Прослушивает фрагмент бита для убеждения в его качестве и проверяет правильность введенной информации.
    - **Согласие с условиями передачи прав**: Соглашается с условиями платформы, которые включают передачу прав на использование бита покупателю.
    - **Публикация**: Нажимает кнопку "Опубликовать", делая бит доступным для покупки.
* **Ожидаемый результат**:
    - Бит опубликован на маркетплейсе и доступен для прослушивания и покупки пользователями.

### 3.3.2 Сценарий: Артист ищет и покупает бит
* **Цель**: Найти и купить подходящий бит для нового трека.

* **Пользователь**: Артист (покупатель).

* **Шаги**:
    - **Поиск**: Вводит ключевые слова (например, жанр, настроение) в поисковую строку.
    - **Фильтрация**: Использует фильтры, чтобы уточнить результаты поиска (например, по цене, темпу).
    - **Прослушивание**: Прослушивает найденные биты.
    - **Выбор бита**: Выбирает бит, который наиболее подходит для его трека.
    - **Покупка**: Нажимает на кнопку "Купить" и проходит процесс оплаты.
    - **Передача прав**: После покупки артист получает документ о передаче прав, подписанный битмейкером. Для выполнения передачи прав артист подписывает документ.
    - **Загрузка**: После покупки загружает полную версию бита.
* **Ожидаемый результат**:
    - Артист успешно находит, покупает и загружает бит для использования в своей музыке.

### 3.3.3 Сценарий: Мониторинг продаж и статистики битмейкером
* **Цель**: Оценить успех и популярность своих битов.

* **Пользователь**: Битмейкер.

* **Шаги**:
    - **Аутентификация**: Вход в систему.
    - **Переход к статистике**: Нажатие на вкладку "Моя статистика".
    - **Анализ продаж**: Просмотр количества продаж, дохода и популярных битов.
    - **Анализ прослушиваний**: Просмотр данных о количестве прослушиваний и интересе к разным битам.
    - **Получение обратной связи**: Чтение комментариев и отзывов покупателей.

* **Ожидаемый результат**:
    - Битмейкер получает полную информацию о продажах и популярности своих битов, что помогает планировать будущие загрузки

### 3.3.4 Сценарий: Подписание документов о передаче прав на бит
* **Цель**: Оформить юридическую передачу прав на купленный бит.

* **Пользователь**: Битмейкер (продавец) и Артист (покупатель).

* **Шаги**:
    - **Артист выбирает бит для покупки.**
    - **Покупка**: Артист нажимает кнопку "Купить" и проходит процесс оплаты.
    - **Загрузка**: После покупки артист загружает полную версию бита.
    - **Автоматическая генерация документа**: Система автоматически генерирует документ о передаче прав на бит.
    - **Подписание документа**: Артист и битмейкер подписывают документ онлайн, соглашаясь с условиями передачи прав (битмейкер подписывает заранее, в момент выкладывания бита).
    - **Подтверждение**: Система отправляет уведомление о подписании документа обоим сторонам.
    - **Хранение документов**: Система сохраняет подписанный документ в защищенном хранилище.

* **Ожидаемый результат**:
    - Битмейкер и артист имеют юридически оформленную передачу прав на бит, подтвержденную подписанным документом.


# 4. Нефункциональные требования
## 4.1 Производительность
* **Объем трафика и время отклика**:
    - Укажите ожидаемый объем трафика и требования к времени отклика системы.
* **Масштабируемость**:
    - Опишите планы и стратегии для масштабирования системы в ответ на увеличение нагрузки.
## 4.2 Надежность и отказоустойчивость
* **Стратегии обеспечения стабильной работы**:
    - Опишите механизмы резервирования, балансировки нагрузки и аварийного восстановления.
## 4.3 Безопасность
* **Защита данных**:
    - Опишите стратегии шифрования, аутентификации, авторизации и защиты от XSS, CSRF и других видов атак.
* **Соответствие стандартам**:
    - Укажите, какие стандарты безопасности данных (например, PCI DSS для платежных систем) будут соблюдены.

# 5. Техническое проектирование
## 5.1 База данных
* **Схемы и модели данных**:
    - Опишите сущности, их атрибуты и связи, а также выбор СУБД.
## 5.2 APIs и интеграции
* **Внутренние и внешние API**:
    - Опишите, какие API будут разработаны для взаимодействия компонентов системы, а также интеграции с внешними сервисами.
## 5.3 Масштабирование и оптимизация
* **Стратегии и технологии**:
    - Детализируйте подходы и технологии, которые будут использоваться для оптимизации производительности и масштабирования системы.
# 6. План разработки
* **Фазы и этапы**:
    - Разбейте проект на основные фазы разработки и описывайте задачи, цели и сроки для каждой из них.
* **Ресурсы**:
    - Оцените необходимые ресурсы, включая команду, инструменты, технологии и бюджет.
# Заключение
* **Итоговые мысли**:
    - Подведите итоги основных моментов документа, отразите следующие шаги или рекомендации.
